<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Cibaicibi POS</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#2E7D32">

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://accounts.google.com/gsi/client" async defer></script>

<style>
body{font-family:Arial;background:#f4f4f4;padding:16px}
h1{text-align:center}
.box{background:#fff;padding:12px;border-radius:8px;margin-bottom:16px}
input,select,button{width:100%;padding:12px;margin:6px 0;font-size:16px}
button{background:#2E7D32;color:#fff;border:none;border-radius:6px}
.group-title{font-weight:bold;margin-top:10px}
ul{padding-left:18px}
table{width:100%;border-collapse:collapse}
th,td{border-bottom:1px solid #ddd;padding:6px}
</style>
</head>

<body>
<h1>ğŸ½ï¸ Cibaicibi POS</h1>

<div class="box">
<h2>â˜ï¸ Backup & Sync</h2>
<button onclick="loginGoogle()">Login Google</button>
<button onclick="backupKeDrive()">Backup Google Drive</button>
<button onclick="backupLocal()">Backup Local</button>
<button onclick="syncMenuGithub()">ğŸ”„ Sync Menu dari GitHub</button>
<input type="file" id="restoreFile" accept=".json">
<button onclick="restoreLocal()">Restore Local</button>
<p id="statusBackup">Belum login</p>
</div>

<div class="box">
<h2>ğŸ“‹ Menu Master</h2>
<input id="menuNama" placeholder="Nama Menu">
<input id="menuHarga" type="number" placeholder="Harga">
<select id="menuKategori">
<option>Makanan</option>
<option>Minuman</option>
<option>Lainnya</option>
</select>
<button onclick="tambahMenu()">Tambah Menu</button>
<input type="file" id="csvMenu" accept=".csv">
<button onclick="importMenuCSV()">Import CSV</button>
</div>

<div class="box">
<h2>ğŸ§¾ Input Penjualan</h2>
<input id="searchMenu" placeholder="Cari menu..." oninput="renderMenu()">
<div id="menuList"></div>
<input id="qty" type="number" placeholder="Qty">
<button onclick="tambahKeKeranjang()">â• Tambah</button>

<h3>ğŸ›’ Keranjang</h3>
<ul id="keranjangList"></ul>
<b>Total: Rp <span id="totalAll">0</span></b>
<button onclick="simpanTransaksi()">ğŸ’¾ Simpan Transaksi</button>
</div>

<div class="box">
<h2>ğŸ’° Omzet 30 Hari Terakhir</h2>
<b>Rp <span id="omzet30">0</span></b>
</div>

<div class="box">
<h2>ğŸ“ˆ Omzet 7 Hari Terakhir</h2>
<canvas id="chart7hari"></canvas>
</div>

<div class="box">
<h2>ğŸ† Top 20 Menu Paling Laris</h2>
<table>
<thead><tr><th>Menu</th><th>Qty</th></tr></thead>
<tbody id="top20"></tbody>
</table>
</div>

<div id="popup"
style="display:none;position:fixed;bottom:20px;left:50%;
transform:translateX(-50%);background:#2E7D32;color:#fff;
padding:10px 20px;border-radius:8px;">âœ”</div>

<script src="app.js"></script>
<script src="drive.js"></script>
<script>
if("serviceWorker" in navigator){
  navigator.serviceWorker.register("service-worker.js")
}
</script>
</body>
</html>
